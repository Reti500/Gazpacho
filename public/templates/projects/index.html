<p ng-init="index()"></p>

<div class="row">
  <div class="col-md-10 col-md-push-1">
    <div class="panel panel-primary">

      <div class="panel-heading">
        Lista de Proyectos
        <span class="pull-right ng-hide" ng-hide="viewAllProjects">
          <button class="btn btn-success btn-xs" ng-click="verAll()">VER TODO</button></span>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Nombre</th>
            <th>Descripcion</th>
            <th>Acciones</th>
          </tr>
        </thead>

        <tbody>
          <tr class="ng-hide" ng-repeat="(key, project) in projects" ng-hide="!viewAllProjects">
			      <td>{{key + 1}}</td>
			      <td>{{project.name}}</td>
            <td>{{project.description}}</td>
			      <td>
			        <button class="btn btn-success btn-xs" ng-click="show(project.id)">Detalles</button>
			        <button class="btn btn-success btn-xs" ng-click="edit(project.id)">Editar</button>
			        <button class="btn btn-danger btn-xs" ng-click="destroy(project.id)">Eliminar</button>
			      </td>
			    </tr>

          <tr class="ng-hide" ng-hide="viewAllProjects">
            <td>{{project.id}}</td>
            <td>{{project.name}}</td>
            <td>{{project.description}}</td>
            <td>
              <button class="btn btn-success btn-xs" ng-click="edit(project.id)">Editar</button>
              <button class="btn btn-danger btn-xs" ng-click="destroy(project.id)">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>

    </div>
  </div>
</div>

<div class="row">
  <form name="newProject" class="col-md-10 col-md-push-1 form-inline" role="form" novalidate>
    <div class="form-group" ng-class="{ 'has-error' : newProject.name.$invalid && !newProject.name.$pristine }">
      Nombre: <input type="text" name="name" ng-model="params.name" class="form-control" required/>
    </div>

    <div class="form-group" ng-class="{ 'has-error' : newProject.description.$invalid && !newProject.description.$pristine }">
      Descripcion: <input type="text" name="description" ng-model="params.description" class="form-control" required/>
    </div>

    <div class="form-group">
      <button class="btn btn-success" type="" ng-click="nuevo(params)" ng-disabled="newProject.$invalid || isUnchanged(newProject)">Guardar</button>
    </div>
  </form>
</div>
